// Estrutra 1: 

#include <iostream>

using namespace std;

struct Contato {
	
	string Nome;
	string Numero;
};

struct Agenda {
	
	Contato *c;
	Contato *cAntigo;
	
	void imprimir (Agenda &a, int qntd){
	
		cout << "	- Agenda -	" << endl;
		
		for (int i = 0; i < qntd; i++){
			
			cout << i + 1 << " - " << a.c[i].Nome << " - " << a.c[i].Numero << endl;
		}
	}
	
	void preencher (Agenda &a, int qntd){
		
		a.c = new Contato [qntd];
	
		for (int i = 0; i < qntd; i++){
			
			cout << "Informe o nome do contato " << i + 1 << ": ";
			cin >> a.c[i].Nome;
			
			for (int aux = 0; aux < i; aux++){
				
				while (a.c[aux].Nome == a.c[i].Nome){
					
					cout << "Um contato com esse nome ja foi informado, informe outro nome para o contato: ";
					cin >> a.c[i].Nome;
				}
			}
			
			cout << "Informe o numero do contato " << i + 1 << ": ";
			cin >> a.c[i].Numero;
		}
		
		imprimir (a, qntd);
	}
	
	void adicionar (Agenda &a, int &qntd){
	
		int pergunta = 0;
		a.cAntigo = new Contato [qntd];
		
		cout << "Deseja adicionar quantos contatos? ";
		cin >> pergunta;
		
		for (int i = 0; i < qntd; i++){
			
			a.cAntigo [i] = a.c[i]; 
		}
		
		qntd = qntd + pergunta;
		
		a.c = new Contato [qntd];
		
		for (int i = 0; i < qntd - pergunta; i++){
			
			a.c [i] = a.cAntigo [i];
		}
		
		for (int i = qntd - pergunta; i < qntd; i++){
			
			cout << "Informe o nome do contato que deseja adicionar: ";
			cin >> a.c[i].Nome;
			
			for (int aux = 0; aux < i; aux++){
				
				while (a.c[i].Nome == a.c[aux].Nome){
					
					cout << "Ja ha um contato com esse mesmo nome, favor inserir um novo nome para este contato: ";
					cin >> a.c[i].Nome;
				}
			}
			
			cout << "Informe o numero do contato que deseja adicionar: ";
			cin >> a.c[i].Numero;
		}
		
		cout << "Dados atualizados: " << endl;
		
		imprimir (a, qntd);
	
	}
	
	void excluir (Agenda &a, int &qntd){
		
		string ContatoExcluir;
		int contagem = 0;
		a.cAntigo = new Contato [qntd];
		
		for (int i = 0; i < qntd; i++){
			
			a.cAntigo [i] = a.c[i];
		}
		
		qntd = qntd - 1;
		
		a.c = new Contato [qntd];
		
		cout << "Informe o nome do contato que deseja excluir: ";
		cin >> ContatoExcluir;
		
		for (int i = 0; i < qntd + 1; i++){
			
			if (ContatoExcluir == a.cAntigo[i].Nome){
				
				for (int aux = 0; aux < qntd; aux++){
					
					if (aux >= i){
						
						a.c[aux] = a.cAntigo [aux + 1];
					} else {
						
						a.c [aux] = a.cAntigo[aux];
					}
				}
				
				contagem++;
			}
		}
		
		if (contagem == 0){
			
			cout << "Nao foi encontrado um contato de nome " << ContatoExcluir << "." << endl;
			
			qntd = qntd + 1;
			
			for (int aux2 = 0; aux2 < qntd; aux2++){
				
				a.c[aux2] = a.cAntigo[aux2];
			}
		}
		
		cout << "Dados atualizados." << endl;
		
		imprimir (a, qntd);
	}

};

int main (){
	
	Agenda a1;
	int qntd = 0;
	string pergunta1;
	string pergunta2;
	
	cout << "Informe a quantidade de contatos: ";
	cin >> qntd;
	
	a1.preencher (a1, qntd);
	
	cout << "Deseja adicionar ou excluir algum contato? Caso sim, digite sim, se nao, digite nao: ";
	cin >> pergunta1;
	
	while (pergunta1 != "Sim" && pergunta1 != "sim" && pergunta1 != "nao" && pergunta1 != "Nao") {
		
		cout << "Voce digitou um codigo invalido, digite sim para adicionar ou excluir algum contato ou nao para nao realizar qualquer operacao: ";
		cin >> pergunta1;
	}
	
	while ( pergunta1 == "Sim" || pergunta1 == "sim"){
		
		cout << "Para adicionar algum contato, digite adicionar. Para excluir, digite excluir: ";
		cin >> pergunta2;
		
		while (pergunta2 != "Adicionar" && pergunta2 != "adicionar" && pergunta2 != "Excluir" && pergunta2 != "excluir"){
			
			cout << "Voce digitou um codigo invalido, digite adicionar ou excluir: ";
			cin >> pergunta2; 
		}
		
		if (pergunta2 == "Adicionar" || pergunta2 == "adicionar"){
			
			a1.adicionar (a1, qntd);
			
		} else {
			
			a1.excluir (a1, qntd);
			
		}
		
		cout << "Deseja realizar outra operacao? Caso sim, digite sim, se nao, digite nao: ";
		cin >> pergunta1;
		
		while (pergunta1 != "Sim" && pergunta1 != "sim" && pergunta1 != "nao" && pergunta1 != "Nao") {
		
			cout << "Voce digitou um codigo invalido, digite sim para adicionar ou excluir algum contato ou nao para nao realizar qualquer operacao: ";
			cin >> pergunta1;
		}
	}
	
	cout << "Obrigado por executar o programa." << endl;
	
	return 0;
}
// Estrutura 2: 

#include <iostream>

using namespace std;

struct Contato{
	
	string nome;
	string numero;	
	
};

struct Agenda{
	
	Contato *contatos;
	int QntdContatos;
	
};

void preencherAgenda (Agenda &a){
	
	cout << "Informe quantos contatos deseja adicionar: ";
	cin >> a.QntdContatos;
		
	a.contatos = new Contato [a.QntdContatos];
		
	for (int i = 0; i < a.QntdContatos; i++){
			
		cout << "Informe o nome do contato " << i + 1 << ": ";
		cin >> a.contatos[i].nome;
			
		for (int aux = 0; aux < i; aux++){
				
			while (a.contatos[i].nome == a.contatos[aux].nome){
					
				cout << "Voce informou um nome de produto que ja esta sendo utilizado. Favor informar um nome que nao foi utilizado ainda: ";
				cin >> a.contatos[i].nome; 
				
				aux = -1;
			}
		}
			
		cout << "Informe o numero do contato " << i + 1 << ": ";
		cin >> a.contatos[i].numero;
	}
}

void imprimirAgenda (Agenda &a){
	
	cout << "\t- Agenda - " << endl;
	
	for (int i = 0; i < a.QntdContatos; i++){
		
		cout << a.contatos[i].nome << " - " << a.contatos[i].numero << endl;
	}
}

void adicionarContato (Agenda &a){
	
	string pergunta;
	
	cout << "Deseja adicionar algum contato? ";
	cin >> pergunta;
	
	if (pergunta == "sim"){
		
		Contato *contatosAntigos;
		contatosAntigos = new Contato [a.QntdContatos];
		
		for (int i = 0; i < a.QntdContatos; i++){
			
			contatosAntigos[i].nome = a.contatos[i].nome;
			contatosAntigos[i].numero = a.contatos[i].numero;
		}
		
		a.QntdContatos = a.QntdContatos + 1;
		
		a.contatos = new Contato [a.QntdContatos];
		
		for (int i = 0; i < a.QntdContatos -1; i++){
			
			a.contatos[i].nome = contatosAntigos[i].nome;
			a.contatos[i].numero = contatosAntigos[i].numero;
		}
		
		cout << "Informe o nome do contato que deseja adicionar, ou digite sair para cancelar a operacao: ";
		cin >> a.contatos[a.QntdContatos - 1].nome;
		
		if (a.contatos[a.QntdContatos - 1].nome == "sair"){
			
			a.QntdContatos = a.QntdContatos - 1;
			a.contatos = new Contato [a.QntdContatos];
			
			for (int i = 0; i < a.QntdContatos; i++){
				
				a.contatos[i] = contatosAntigos[i];
			}
		} else {
			
			cout << "Informe o numero do contato que deseja adicionar, ou digite sair para cancelar a operacao: ";
			cin >> a.contatos[a.QntdContatos - 1].numero;
			
			if (a.contatos[a.QntdContatos - 1].numero == "sair"){
				
				a.QntdContatos = a.QntdContatos - 1;
				a.contatos = new Contato [a.QntdContatos];
				
				for (int i = 0; i < a.QntdContatos; i++){
					
					a.contatos[i] = contatosAntigos[i];
				}
			}
		}
	}
}

void excluirContato (Agenda &a){
	
	string pergunta;
	
	cout << "Deseja excluir algum contato? ";
	cin >> pergunta;
	
	if (pergunta == "sim"){
		
		string contatoAExcluir;
		int contagem = 0;
		
		cout << "Informe o nome do contato que deseja excluir, ou digite sair pra cancelar a operacao: ";
		cin >> contatoAExcluir;
		
		while (contagem == 0 && contatoAExcluir != "sair"){
			
			for (int i = 0; i < a.QntdContatos; i++){
				
				if (contatoAExcluir == a.contatos[i].nome){
					
					contagem++;
				}
			}
			
			if (contagem == 0){
					
				cout << "Nao foi encontrado um contato com esse nome, favor informe o nome novamente ou digite sair para cancelar a operacao: ";
				cin >> contatoAExcluir;
			}
		}
		
		if (contatoAExcluir != "sair"){
		
			a.QntdContatos = a.QntdContatos - 1;
			
			for (int i = 0; i < a.QntdContatos; i++){
				
				if (a.contatos[i].nome == contatoAExcluir){
					
					for (int aux = i; aux < a.QntdContatos; aux++){
						
						a.contatos[aux] = a.contatos [aux + 1];
					}
				}
			}
			
			Contato *contatosAntigos;
			contatosAntigos = new Contato [a.QntdContatos];
			
			for (int i = 0; i < a.QntdContatos; i++){
				
				contatosAntigos [i] = a.contatos[i];
			}
			
			a.contatos = new Contato [a.QntdContatos];
			
			for (int i = 0; i < a.QntdContatos; i++){
				
				a.contatos [i] = contatosAntigos [i];
			}
		}
	}
}

int main (){
	
	Agenda a1;
	string pergunta;
	
	preencherAgenda (a1);
		
	imprimirAgenda (a1);
	
	cout << "Deseja adicionar ou excluir algum contato? ";
	cin >> pergunta;
	
	while (pergunta == "sim"){
		
		adicionarContato (a1);
		
		imprimirAgenda (a1);
		
		excluirContato (a1);
		
		imprimirAgenda (a1);
		
		cout << "Tendo em vista a agenda acima, deseja adicionar ou excluir algum contato? ";
		cin >> pergunta;
	}
	
	cout << "Obrigado." << endl;
	
	return 0;
}
